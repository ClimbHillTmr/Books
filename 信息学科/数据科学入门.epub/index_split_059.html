<?xml version='1.0' encoding='utf-8'?>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>数据科学入门</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="page_styles1.css" rel="stylesheet" type="text/css"/>
</head>
  <body class="calibre">
<p id="filepos270782" class="calibre_"><span class="calibre6"><span class="bold"> 8.4　选择正确步长 </span></span></p><p class="calibre_">尽管向梯度的反向移动的逻辑已经清楚了，但移动多少还不明了。事实上，选择合适的步长更像艺术而非科学。主流的选择方法有：</p><div class="calibre_5"> </div><ul class="calibre_6"><li value="1" class="calibre_7"><p class="calibre_">使用固定步长</p></li><li value="2" class="calibre_8"><p class="calibre_">随时间增长逐步减小步长</p></li><li value="3" class="calibre_8"><p class="calibre_">在每一步中通过最小化目标函数的值来选择合适的步长</p></li></ul><p class="calibre_">最后一种方法看上去不错，但它的计算代价也最大。我们可以尝试一系列步长，并选出使目标函数值最小的那个步长来求其近似值：</p><blockquote class="calibre_14"><span class="calibre11"><tt class="calibre7"><br class="calibre12"/>step_sizes = [100, 10, 1, 0.1, 0.01, 0.001, 0.0001, 0.00001]<br class="calibre12"/><br class="calibre12"/><br class="calibre12"/><br class="calibre12"/></tt></span></blockquote><p class="calibre_15">某些步长可能会导致函数的输入无效。所以，我们需要创建一个对无效输入值返回无限值（即这个值永远不会成为任何函数的最小值）的“安全应用”函数：</p><blockquote class="calibre_14"><span class="calibre11"><tt class="calibre7"><br class="calibre12"/>def safe(f):<br class="calibre12"/>    """return a new function that's the same as f,<br class="calibre12"/>    except that it outputs infinity whenever f produces an error"""<br class="calibre12"/>    def safe_f(*args, **kwargs):<br class="calibre12"/>        try:<br class="calibre12"/>            return f(*args, **kwargs)<br class="calibre12"/>        except:<br class="calibre12"/>            return float('inf')         # 意思是Python中的“无限值”<br class="calibre12"/>    return safe_f<br class="calibre12"/><br class="calibre12"/><br class="calibre12"/><br class="calibre12"/></tt></span></blockquote><div class="mbp_pagebreak" id="calibre_pb_59"></div>
<div class="calibre5">本书由「<a href="https://epubw.com" class="calibre3">ePUBw.COM</a>」整理，<a href="https://epubw.com" class="calibre3">ePUBw.COM</a> 提供最新最全的优质电子书下载！！！</div></body></html>
